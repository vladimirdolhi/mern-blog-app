[{"/home/user/mern-blog-app/client/src/index.js":"1","/home/user/mern-blog-app/client/src/App.js":"2","/home/user/mern-blog-app/client/src/components/Navbar.jsx":"3","/home/user/mern-blog-app/client/src/pages/Create.jsx":"4","/home/user/mern-blog-app/client/src/pages/Home.jsx":"5","/home/user/mern-blog-app/client/src/pages/BlogDetails.jsx":"6","/home/user/mern-blog-app/client/src/pages/EditBlog.jsx":"7","/home/user/mern-blog-app/client/src/pages/Login.jsx":"8","/home/user/mern-blog-app/client/src/pages/NotFound.jsx":"9","/home/user/mern-blog-app/client/src/pages/Register.jsx":"10","/home/user/mern-blog-app/client/src/context/AuthContext.jsx":"11","/home/user/mern-blog-app/client/src/routes/ProtectedRoute.jsx":"12","/home/user/mern-blog-app/client/src/controllers/authController.js":"13","/home/user/mern-blog-app/client/src/controllers/blogController.js":"14","/home/user/mern-blog-app/client/src/controllers/ratingController.js":"15","/home/user/mern-blog-app/client/src/components/DateFilter.jsx":"16","/home/user/mern-blog-app/client/src/components/SearchBar.jsx":"17","/home/user/mern-blog-app/client/src/components/StarRating.jsx":"18","/home/user/mern-blog-app/client/src/components/SortSelect.jsx":"19","/home/user/mern-blog-app/client/src/components/BlogList.jsx":"20","/home/user/mern-blog-app/client/src/api/http.js":"21","/home/user/mern-blog-app/client/src/pages/ResetPassword.jsx":"22","/home/user/mern-blog-app/client/src/pages/ForgotPassword.jsx":"23"},{"size":432,"mtime":1607954640000,"results":"24","hashOfConfig":"25"},{"size":1553,"mtime":1756471417071,"results":"26","hashOfConfig":"25"},{"size":1335,"mtime":1756448305651,"results":"27","hashOfConfig":"25"},{"size":1533,"mtime":1756471283419,"results":"28","hashOfConfig":"25"},{"size":1662,"mtime":1756471365601,"results":"29","hashOfConfig":"25"},{"size":4937,"mtime":1756458778037,"results":"30","hashOfConfig":"25"},{"size":2786,"mtime":1756471309635,"results":"31","hashOfConfig":"25"},{"size":1567,"mtime":1756471377570,"results":"32","hashOfConfig":"25"},{"size":263,"mtime":1607954640000,"results":"33","hashOfConfig":"25"},{"size":1580,"mtime":1756471392803,"results":"34","hashOfConfig":"25"},{"size":1339,"mtime":1756448116466,"results":"35","hashOfConfig":"25"},{"size":448,"mtime":1755818730068,"results":"36","hashOfConfig":"25"},{"size":703,"mtime":1756467825921,"results":"37","hashOfConfig":"25"},{"size":705,"mtime":1756448010233,"results":"38","hashOfConfig":"25"},{"size":261,"mtime":1756448084017,"results":"39","hashOfConfig":"25"},{"size":600,"mtime":1755818746210,"results":"40","hashOfConfig":"25"},{"size":358,"mtime":1755818744592,"results":"41","hashOfConfig":"25"},{"size":1170,"mtime":1756471200047,"results":"42","hashOfConfig":"25"},{"size":556,"mtime":1755857496567,"results":"43","hashOfConfig":"25"},{"size":1137,"mtime":1756448164272,"results":"44","hashOfConfig":"25"},{"size":1490,"mtime":1756471203362,"results":"45","hashOfConfig":"25"},{"size":1940,"mtime":1756471407511,"results":"46","hashOfConfig":"25"},{"size":1081,"mtime":1756471338775,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"cfs7ak",{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/user/mern-blog-app/client/src/index.js",[],["97","98"],"/home/user/mern-blog-app/client/src/App.js",[],"/home/user/mern-blog-app/client/src/components/Navbar.jsx",[],"/home/user/mern-blog-app/client/src/pages/Create.jsx",[],"/home/user/mern-blog-app/client/src/pages/Home.jsx",["99"],"import { useEffect, useMemo, useState } from \"react\";\nimport { BlogController } from \"../controllers/blogController\";\nimport BlogList from \"../components/BlogList\";\nimport SearchBar from \"../components/SearchBar\";\nimport DateFilter from \"../components/DateFilter\";\nimport SortSelect from \"../components/SortSelect\";\n\nconst Home = () => {\n  const [blogs, setBlogs] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  const [q, setQ] = useState(\"\");\n  const [from, setFrom] = useState(\"\");\n  const [to, setTo] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"date_desc\");\n\n  const fetchList = async () => {\n    setIsPending(true);\n    try {\n      const data = await BlogController.list({\n        search: q,\n        from,\n        to,\n        sort: sortBy,\n      });\n      setBlogs(data);\n      setError(null);\n    } catch (e) {\n      setError(e.message || \"Failed to load blogs\");\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchList();\n  }, [q, from, to, sortBy]);\n\n  const empty = useMemo(() => blogs && blogs.length === 0, [blogs]);\n\n  return (\n    <div className=\"home\">\n      {error && <div>{error}</div>}\n      {/* Toolbar */}\n      <div style={{ marginBottom: 16 }}>\n        <SearchBar value={q} onChange={setQ} />\n        <DateFilter from={from} to={to} onFrom={setFrom} onTo={setTo} />\n        <SortSelect value={sortBy} onChange={setSortBy} />\n      </div>\n      {isPending && <div>Loading...</div>}\n      {blogs && <BlogList blogs={blogs} />}\n      {blogs && empty && <p>No blogs match your filters.</p>}\n    </div>\n  );\n};\n\nexport default Home;\n","/home/user/mern-blog-app/client/src/pages/BlogDetails.jsx",["100","101"],"import { useHistory, useParams } from \"react-router-dom\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { BlogController } from \"../controllers/blogController\";\nimport { RatingController } from \"../controllers/ratingController\";\nimport { useAuth } from \"../context/AuthContext\";\nimport StarRating from \"../components/StarRating\";\n\nconst FIVE_MIN = 5 * 60 * 1000;\n\nconst BlogDetails = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const { user } = useAuth();\n\n  const [blog, setBlog] = useState(null);\n  const [myRating, setMyRating] = useState(0);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fmt = (iso) =>\n    new Intl.DateTimeFormat(undefined, {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    }).format(new Date(iso || Date.now()));\n\n  const load = async () => {\n    setIsPending(true);\n    try {\n      const data = await BlogController.get(id);\n      setBlog(data);\n      setError(null);\n\n      if (user) {\n        try {\n          const mine = await RatingController.mine(id);\n          setMyRating(mine?.value || 0);\n        } catch {\n          setMyRating(0);\n        }\n      } else {\n        setMyRating(0);\n      }\n    } catch (err) {\n      setError(err.message || \"Failed to load blog\");\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, [id, user?.id]);\n\n  const handleDelete = async () => {\n    if (!blog) return;\n    await BlogController.remove(blog._id);\n    history.push(\"/\");\n  };\n\n  const isOwner = user && blog && user.id === blog.user._id;\n  const canDelete = isOwner;\n  const canEdit = (() => {\n    if (!isOwner || !blog?.createdAt) return false;\n    const created = new Date(blog.createdAt).getTime();\n    return Date.now() - created <= FIVE_MIN;\n  })();\n\n  const average = Number(blog?.ratingAvg || 0);\n  const totalRatings = Number(blog?.ratingCount || 0);\n  const canRate = Boolean(user) && blog && !isOwner;\n\n  const onRate = async (value) => {\n    if (!canRate) return;\n    try {\n      await RatingController.rate(blog._id, value);\n      await load();\n    } catch (e) {\n      alert(e.message || \"Failed to rate\");\n    }\n  };\n\n  const goEdit = () => {\n    console.log(\"edit\");\n    history.push(`/blogs/${blog._id}/edit`);\n  };\n\n  return (\n    <div className=\"blog-details\">\n      {isPending && <div>Loading...</div>}\n      {error && <div>{error}</div>}\n\n      {blog && (\n        <article>\n          <h2>{blog.title}</h2>\n          <div className=\"blog-body\">{blog.body}</div>\n          <small>Author: {blog.user.name}</small>\n          <p />\n          <small>{fmt(blog.createdAt)}</small>\n\n          <div className=\"rating-panels\">\n            <section className=\"rating-card rating-card--summary\">\n              <div className=\"rating-card__header\">\n                <h3 className=\"rating-card__title\">Average rating</h3>\n                {!!totalRatings && (\n                  <span className=\"rating-chip\">\n                    {totalRatings} rating{totalRatings > 1 ? \"s\" : \"\"}\n                  </span>\n                )}\n              </div>\n\n              <div className=\"rating-card__content\">\n                <StarRating value={average} readOnly />\n                <small className=\"rating-note\">\n                  {totalRatings\n                    ? `${average.toFixed(1)} / 5`\n                    : \"No ratings yet\"}\n                </small>\n              </div>\n            </section>\n\n            <section className=\"rating-card rating-card--action\">\n              <div className=\"rating-card__header\">\n                <h3 className=\"rating-card__title\">Your rating</h3>\n              </div>\n\n              <div className=\"rating-card__content\">\n                {canRate ? (\n                  <>\n                    <StarRating value={myRating} onChange={onRate} />\n                    <small className=\"rating-note\">\n                      {myRating\n                        ? `You rated ${myRating}/5`\n                        : \"Hover & click to rate\"}\n                    </small>\n                  </>\n                ) : (\n                  <small className=\"rating-muted\">\n                    {user\n                      ? \"You cannot rate your own blog.\"\n                      : \"Login to leave a rating.\"}\n                  </small>\n                )}\n              </div>\n            </section>\n          </div>\n\n          <div className=\"owner-actions\">\n            {canEdit && <button onClick={goEdit}>edit</button>}\n            {canDelete && <button onClick={handleDelete}>delete</button>}\n          </div>\n          {!canEdit && user && isOwner && (\n            <small className=\"edit-window-note\">\n              Editing allowed only within 5 minutes after creation.\n            </small>\n          )}\n        </article>\n      )}\n    </div>\n  );\n};\n\nexport default BlogDetails;\n","/home/user/mern-blog-app/client/src/pages/EditBlog.jsx",[],"/home/user/mern-blog-app/client/src/pages/Login.jsx",[],"/home/user/mern-blog-app/client/src/pages/NotFound.jsx",[],"/home/user/mern-blog-app/client/src/pages/Register.jsx",[],"/home/user/mern-blog-app/client/src/context/AuthContext.jsx",[],"/home/user/mern-blog-app/client/src/routes/ProtectedRoute.jsx",[],"/home/user/mern-blog-app/client/src/controllers/authController.js",[],"/home/user/mern-blog-app/client/src/controllers/blogController.js",[],"/home/user/mern-blog-app/client/src/controllers/ratingController.js",[],"/home/user/mern-blog-app/client/src/components/DateFilter.jsx",[],"/home/user/mern-blog-app/client/src/components/SearchBar.jsx",[],"/home/user/mern-blog-app/client/src/components/StarRating.jsx",[],"/home/user/mern-blog-app/client/src/components/SortSelect.jsx",[],"/home/user/mern-blog-app/client/src/components/BlogList.jsx",[],"/home/user/mern-blog-app/client/src/api/http.js",[],"/home/user/mern-blog-app/client/src/pages/ResetPassword.jsx",[],"/home/user/mern-blog-app/client/src/pages/ForgotPassword.jsx",[],{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","severity":1,"message":"107","line":38,"column":6,"nodeType":"108","endLine":38,"endColumn":27,"suggestions":"109"},{"ruleId":"110","severity":1,"message":"111","line":2,"column":21,"nodeType":"112","messageId":"113","endLine":2,"endColumn":28},{"ruleId":"106","severity":1,"message":"114","line":55,"column":6,"nodeType":"108","endLine":55,"endColumn":20,"suggestions":"115"},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchList'. Either include it or remove the dependency array.","ArrayExpression",["118"],"no-unused-vars","'useMemo' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'load'. Either include it or remove the dependency array.",["119"],"no-global-assign","no-unsafe-negation",{"desc":"120","fix":"121"},{"desc":"122","fix":"123"},"Update the dependencies array to be: [q, from, to, sortBy, fetchList]",{"range":"124","text":"125"},"Update the dependencies array to be: [id, load, user.id]",{"range":"126","text":"127"},[1047,1068],"[q, from, to, sortBy, fetchList]",[1462,1476],"[id, load, user.id]"]